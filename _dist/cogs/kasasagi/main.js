function c(){try{return(location.pathname.match("/access/.*/ncode/(.*)/")??"")[1]}catch{return""}}chrome.storage.local.get(null,s=>{var r=location.pathname;const a=c();if(a!=null){var t=!1,n=$(`.novelview_menu li a[href$='.syosetu.com/${a}/']`);if(n.length){var i=new URL(n.prop("href"));try{i=new URL(i),i.hostname=="novel18.syosetu.com"&&(t=!0)}catch{}}if(s.kasasagiCustomStyle){$("body").addClass("narou-tweaker"),$("#container").before("<div class='l-header'></div>");var l=$(".l-header");l.append("<div class='p-header'><div class='p-header__content'></div></div>");var p=$(".p-header__content");p.append('<div class="p-header__main"><h1 class="p-header__logo"><a href="https://kasasagi.hinaproject.com/"><img style="max-height: 50px;" src="https://kasasagi.hinaproject.com/view/images/kasasagi_logo.gif" alt="KASASAGI"></a></h1><div class="p-header__description">KASASAGIは株式会社ヒナプロジェクトによって作られた<br>アクセス解析システムです。</div></div>'),p.append('<div class="p-header__mainnav"><ul class="p-header__mainnav-list"></ul></div>'),t?($("ul.p-header__mainnav-list").append('<li class="p-header__mainnav-item"><a href="https://syosetu.com/xuser/top/">Xユーザーホーム</a></li>'),$("ul.p-header__mainnav-list").append(`<li class="p-header__mainnav-item"><a href="https://novel18.syosetu.com/novelview/infotop/ncode/${a}/">作品情報</a></li>`),$("ul.p-header__mainnav-list").append(`<li class="p-header__mainnav-item"><a href="https://novel18.syosetu.com/${a}/">作品TOP</a></li>`)):($("ul.p-header__mainnav-list").append('<li class="p-header__mainnav-item"><a href="https://syosetu.com/user/top/">ユーザーホーム</a></li>'),$("ul.p-header__mainnav-list").append(`<li class="p-header__mainnav-item"><a href="https://ncode.syosetu.com/novelview/infotop/ncode/${a}/">作品情報</a></li>`),$("ul.p-header__mainnav-list").append(`<li class="p-header__mainnav-item"><a href="https://ncode.syosetu.com/${a}/">作品TOP</a></li>`)),l.append("<div class='p-mainheader'><div class='p-mainheader__tab'></div></div>");var o=$(".p-mainheader__tab");o.append('<ul class="p-mainheader__tab-list"></ul>');var e=$("ul.p-mainheader__tab-list");e.append('<li class="p-mainheader__tab-list-item"><a href="/access/top/ncode/'+a+'/">総合</a></li>'),e.append('<li class="p-mainheader__tab-list-item"><a href="/access/chapter/ncode/'+a+'/">エピソード別ユニーク</a></li>'),e.append('<li class="p-mainheader__tab-list-item"><a href="/access/daypv/ncode/'+a+'/">日別PV</a></li>'),e.append('<li class="p-mainheader__tab-list-item"><a href="/access/dayunique/ncode/'+a+'/">日別ユニーク</a></li>'),e.append('<li class="p-mainheader__tab-list-item"><a href="/access/monthpv/ncode/'+a+'/">月別PV</a></li>'),e.append('<li class="p-mainheader__tab-list-item"><a href="/access/monthunique/ncode/'+a+'/">月別ユニーク</a></li>'),$(".p-mainheader__tab-list-item").each(function(){r==$(this).children("a").attr("href")&&$(this).addClass("is-active")}),$("#novel_header").remove(),$("input#datepicker").wrap('<div class="datepicker-outer"><label for="datepicker">日付を指定</label></div>');var d=$("form:has(select)");d.before("<br>"),d.addClass("dropdown"),$("#container").after('<div class="l-footer"><div class="p-footer"></div></div>'),$("#copyright").addClass("p-footer__foot"),$("#copyright").appendTo(".p-footer"),$("#copyright").attr("id","")}}});
